```bash
Please check '/u01/app/oraInventory/logs/silentInstall2018-03-06_02-35-27PM.log' for more details.

As a root user, execute the following script(s):
	1. /u01/app/oracle/product/12.1.0/xe/root.sh



Successfully Setup Software.
```



```bash
Performing root user operation.
w product-specific root actions will be performed.

The following environment variables are set as:
    ORACLE_OWNER= oracle
    ORACLE_HOME=  /u01/app/oracle/product/12.1.0/xe
   Copying dbhome to /usr/local/bin ...
   Copying oraenv to /usr/local/bin ...
   Copying coraenv to /usr/local/bin ...

Entries will be added to the /etc/oratab file as needed by
Database Configuration Assistant when a database is created
Finished running generic part of root script.
Now product-specific root actions will be performed.
```





```bash
Oracle Net Listener Startup:
    Running Listener Control: 
      /u01/app/oracle/product/12.1.0/xe/bin/lsnrctl start LISTENER
    Listener Control complete.
    Listener started successfully.
Listener configuration complete.
```



```bash
Copying database files
1% complete
2% complete
4% complete
37% complete
Creating and starting Oracle instance
38% complete
40% complete
45% complete
46% complete
51% complete
56% complete
57% complete
61% complete
62% complete
Completing Database Creation
66% complete
70% complete
74% complete
85% complete
86% complete
87% complete
98% complete
100% complete
Look at the log file "/u01/app/oracle/cfgtoollogs/dbca/orcl12c/orcl12c.log" for further details.
```



```bash
Performing root user operation.

The following environment variables are set as:
    ORACLE_OWNER= oracle
    ORACLE_HOME=  /u01/app/oracle/product/12.1.0/xe
   Copying dbhome to /usr/local/bin ...
   Copying oraenv to /usr/local/bin ...
   Copying coraenv to /usr/local/bin ...

Entries will be added to the /etc/oratab file as needed by
Database Configuration Assistant when a database is created
Finished running generic part of root script.
```

=================================================================

https://blog.tocconsulting.fr/install-oracle-on-ubuntu-server/

https://www.bbsmax.com/A/lk5aEYl51O/

http://yylinvip.blog.163.com/blog/static/150078020120174533265/

121.43.199.105

root

Shiyanlou001

## 安装必须的软件包

```bash
apt-get install gcc make binutils gawk x11-utils rpm build-essential libaio1 libaio-dev 
libmotif4 libtool expat alien ksh pdksh unixODBC unixODBC-dev sysstat elfutils libelf-dev 
lsb-cxx libstdc++5 autoconf automake autotools-dev doxygen gcc-multilib g++-multilib less 
libtiff5 libtiff5-dev lib32z1 libc6-dev libc6-dev-i386 libc6-i386 libltdl-dev libpth-dev 
openssh-server rlwrap x11-utils zlibc libpthread-workqueue0 libpthread-workqueue-dev 
libzthread-2.3-2 libzthread-dev libpthread-stubs0-dev zip unzip openjdk-7-jdk
```

## 改变 ubuntu 环境

oracle 不支持 ubuntu ，这里伪装成 redhat

```bash
echo 'Red Hat Linux release 6' >> /etc/redhat-release
mkdir /usr/lib64
ln -s /etc /etc/rc.d
ln -s /lib/x86_64-linux-gnu/libgcc_s.so.1 /lib64/
ln -s /usr/bin/awk /bin/awk
ln -s /usr/bin/basename /bin/basename
ln -s /usr/bin/rpm /bin/rpm
ln -s /usr/lib/x86_64-linux-gnu/libc_nonshared.a /usr/lib64/
ln -s /usr/lib/x86_64-linux-gnu/libpthread_nonshared.a /usr/lib64/
ln -s /usr/lib/x86_64-linux-gnu/libstdc++.so.6 /lib64/
ln -s /usr/lib/x86_64-linux-gnu/libstdc++.so.6 /usr/lib64/

#配置 rc.d
mkdir -p /etc/rc.d
for i in 0 1 2 3 4 5 6 S;do sudo ln -s /etc/rc$i.d /etc/rc.d/rc$i.d;done
```

## 添加 oracle 用户

```bash
groupadd --gid 1001 dba && useradd -g dba -m --uid 1001 -d /home/oracle -s /bin/bash oracle
```

## 创建必要目录

```bash
mkdir -p /u01/app/oracle
chown -R oracle:dba /u01
```

## 配置内核参数 sysctl.conf

```bash
echo "#">> /etc/sysctl.conf
echo "# Oracle 12.1.0 se2 entries">> /etc/sysctl.conf
echo "fs.aio-max-nr=1048576" >> /etc/sysctl.conf
echo "fs.file-max=6815744" >> /etc/sysctl.conf
echo "kernel.shmall=2097152" >> /etc/sysctl.conf
echo "kernel.shmmni=4096" >> /etc/sysctl.conf
echo "kernel.sem=250 32000 100 128" >> /etc/sysctl.conf
echo "net.ipv4.ip_local_port_range=9000 65500" >> /etc/sysctl.conf
echo "net.core.rmem_default=262144" >> /etc/sysctl.conf
echo "net.core.rmem_max=4194304" >> /etc/sysctl.conf
echo "net.core.wmem_default=262144" >> /etc/sysctl.conf
echo "net.core.wmem_max=1048586" >> /etc/sysctl.conf
echo "kernel.shmmax=1073741824" >> /etc/sysctl.conf
```

是配置生效：

```bash
sysctl -p
```

## 配置系统限制 limits.conf

```bash
cp /etc/security/limits.conf /etc/security/limits.conf.original
echo "oracle soft nproc 2047" >> /etc/security/limits.conf 
echo "oracle hard nproc 16384" >> /etc/security/limits.conf 
echo "oracle soft nofile 1024" >> /etc/security/limits.conf
echo "oracle hard nofile 65536" >> /etc/security/limits.conf
echo "oracle soft stack 10240" >> /etc/security/limits.conf
```

## 添加 swap

```bash
/bin/dd if=/dev/zero of=/swap bs=1M count=3072
/sbin/mkswap /swap
/sbin/swapon /swap
```

## 下载安装包

```bash
mkdir /home/oracle/package
```

把安装包放进去。解压两个压缩包。

## 配置响应文件

```bash
vi /home/oracle/package/database/response
cp *.rsp *.rsp.bak
```

### 编辑 DB_INSTALL.RSP

```bash
vi /home/oracle/package/database/response/db_install.rsp

oracle.install.option=INSTALL_DB_AND_CONFIG
ORACLE_HOSTNAME=shiyanlou
UNIX_GROUP_NAME=dba
INVENTORY_LOCATION=/u01/app/oraInventory
SELECTED_LANGUAGES=en,zh_CN
ORACLE_HOME=/u01/app/oracle/product/12.1.0/xe
ORACLE_BASE=/u01/app/oracle
oracle.install.db.InstallEdition=SE2
oracle.install.db.DBA_GROUP=dba
oracle.install.db.OPER_GROUP=dba
DECLINE_SECURITY_UPDATES=true
```









































